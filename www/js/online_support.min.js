function support_init(){support_active=$("#support_active"),support_input=$("#support_input"),support_button_send=$("#support_button_send"),support_messages=$("#support_messages"),page_support=support_messages.parents(".page_online_support"),support_interlocutor_status=$("#support_interlocutor_status"),support_input.on("change keyup input click",function(){support_input.val().length>0?support_button_send.addClass("_active_"):support_button_send.removeClass("_active_"),support_input.val().length>10?support_active.addClass("_full_height_"):support_active.removeClass("_full_height_")}),support_input.focusout(function(){support_active.removeClass("_full_height_")}),support_button_send.on("click",function(){support_send()}),support_input.on("keypress",function(t){t.ctrlKey&&13==t.keyCode&&(support_send(),console.log("send"))}),scroll_to(0,page,support_messages.height())}function support_text_clean(t){var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return p[t]})}function support_send(){return support_input.val().length>0&&(support_messages.append('<div class="message __profile">'+support_text_clean(support_input.val())+"</div>"),support_input.val(""),support_button_send.removeClass("_active_"),scroll_to(0,page,support_messages.height()),support_bot()),!1}function support_bot(t){var p=[],s=Math.floor(2e3*Math.random()+500);support_interlocutor_input=Math.floor(3e3*Math.random()+1e3),support_interlocutor_out=Math.floor(1e4*Math.random()+5e3),support_interlocutor_online=Math.floor(2e3*Math.random()+500),p.push(":)"),p.push("Хех"),p.push("Всегда рада помочь!)"),p.push("Как я могу помочь?"),p.push("Отлично!"),p.push("Это очень здорово!"),p.push("Хорошо!"),p.push("Если нужна помощь, я всегда рядом!"),p.push("Для меня нет сложных задач!"),p.push("На всё готова!"),p.push("Хочу помочь!"),p.push("Уже работаю над этим!"),p.push("Это звучит восхитительно!"),p.push("Да, это я могу"),p.push("Конечно!"),p.push("Если ещё нужна какая нибудь помощь, только напишите!"),p.push("(="),p.push("Очень хочу помочь!"),p.push("(:"),support_bot_timer=setTimeout(function(){support_interlocutor_status.html("в сети"),setTimeout(function(){support_interlocutor_status.html("набирает сообщение..."),setTimeout(function(){support_messages.append('<div class="message">'+p[Math.floor(18*Math.random())]+"</div>"),support_interlocutor_status.html("в сети"),scroll_to(0,page,support_messages.height()),setTimeout(function(){support_interlocutor_status.html("не в сети")},support_interlocutor_out)},s)},support_interlocutor_input)},support_interlocutor_online)}