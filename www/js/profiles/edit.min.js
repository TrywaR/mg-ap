function profile_edit_validate(){var e=!0;$(document).find("#input_name").val().length>1||(e=!1),$(document).find("#input_last_name").val().length>1||(e=!1),e?$(document).find("#profile_info_save").addClass("_active_"):$(document).find("#profile_info_save").removeClass("_active_")}function profile_edit_init(){if($(document).find("#input_name").val(user.first_name),$(document).find("#input_name").attr("placeholder",user.first_name),$(document).find("#input_last_name").val(user.last_name),$(document).find("#input_last_name").attr("placeholder",user.last_name),$(document).find("#input_email").val(user.email),user.img_path){var e='<img src="'+user.img_path+'">';$(document).find("#profile_img label").append(e),$(document).find("#profile_img input").val(user.img_path)}profile_edit_validate()}$(function(){$(document).on("click","#profile_img label",function(){$(document).find("#profile_img input").click()}),$(document).on("change","#profile_img input",function(){$(this).next("._name").html(this.files[0].name);var e=this.files[0];console.log(user),user.img_path=$(document).find("#profile_img input").val(),$.ajax({url:site_url+"api/v1/mobile/"+user.id+"/upload-photo/",data:e,processData:!1,contentType:!1,method:"PUT",headers:{Authorization:"token "+session_key}}).fail(function(e){console.log(e),app_status(e)}).done(function(e){console.log(e),app_status(e)})}),$(document).on("input",".profile_info input",function(){profile_edit_validate()}),$(document).on("click","#profile_info_save",function(){if(!$(this).hasClass("_active_"))return!1;user.first_name=$(document).find("#input_name").val(),user.last_name=$(document).find("#input_last_name").val(),$.ajax({url:site_url+"api/v1/accounts/profile/",data:user,method:"POST",headers:{Authorization:"token "+session_key}}).fail(function(e){return!(!e.responseJSON||!e.responseJSON.detail)&&(console.log(e.responseJSON.detail),authorization_message(1,'<p style="color:#ff7f7f;">'+e.responseJSON.detail+"</p>"),!1)}).done(function(e){})})});