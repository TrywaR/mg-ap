function registration_message(r,o){r=r||0,$(document).find(".registration_form .form_status").removeClass("_error"),0==r&&$(document).find(".registration_form .form_status").html(""),0==r&&$(document).find(".registration_form .form_status").html(o),1==r&&$(document).find(".registration_form .form_status").addClass("_error").html(o)}$(function(){$(document).on("input",'#registration_form input[name="login"]',function(){var r=$(this).val();$(this).val(r.toLowerCase())}),$(document).on("submit","#registration_form",function(){var r=[];return r=$(this).serializeArray(),$.ajax({url:site_url+"api/v1/accounts/register/",data:r,method:"POST"}).fail(function(r){if(r.responseJSON){if(r.responseJSON.email){o='<p style="color:#ff7f7f;">';return $.each(r.responseJSON.email,function(r,t){o+=t+"<br/>"}),o+="</p>",registration_message(1,o),!1}if(r.responseJSON.non_field_errors){o='<p style="color:#ff7f7f;">';return $.each(r.responseJSON.non_field_errors,function(r,t){o+=t+"<br/>"}),o+="</p>",registration_message(1,o),!1}if(r.responseJSON.password){var o='<p style="color:#ff7f7f;">';return $.each(r.responseJSON.password,function(r,t){o+=t+"<br/>"}),o+="</p>",registration_message(1,o),!1}}console.log(r),registration_message(1,'<p style="color:#ff7f7f;">'+r+"</p>")}).done(function(r){console.log(r),app_status("Аккаунт зарегистрирован",1),content_upload("templates/authorizations/authorization.htm")}),!1})});